const v=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function o(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerpolicy&&(c.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?c.credentials="include":n.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(n){if(n.ep)return;n.ep=!0;const c=o(n);fetch(n.href,c)}};v();const s=document.querySelector(".cards-container"),a=document.querySelector(".buttons-container"),L=document.querySelector("#search"),E=document.querySelector("#generate-pokemon");const P="https://pokeapi.co/api/v2",l=`${P}/pokemon`,i=async e=>{try{return await(await fetch(e)).json()}catch(t){console.log(t)}},p=({property:e,nameProperty:t})=>{const o=document.createElement("div"),r=document.createElement("span");r.className="pokemon-info-detail",r.textContent=e;const n=document.createElement("p");return n.textContent=t,o.append(r,n),o},k=e=>{s.classList.add("search-container");const t=document.createElement("div");t.classList.add("buttons-container");const o=document.createElement("button");o.classList.add("button"),o.textContent="Previous",o.setAttribute("id","button-left");const r=document.createElement("button");return r.classList.add("button"),r.textContent="Next",r.setAttribute("id","button-right"),t.append(o,r),s.insertAdjacentElement("beforeend",t),t.addEventListener("click",n=>{n.target.id=="button-left"&&(e.id==1&&(e.id=201),m(e.id-1)),n.target.id=="button-right"&&(e.id===200&&(e.id=0),m(e.id+1))}),s};let u;const m=async e=>{try{const t=Math.round(Math.random()*200);e?u=await i(`${l}/${e}`):u=await i(`${l}/${t}`),s.innerHTML=" ",f(u),k(u)}catch(t){console.log(t)}};function f(e){const t=[],o=document.createElement("article");o.classList.add("card-pokemon"),o.setAttribute("id",e.id);const r=document.createElement("h2");r.textContent=e.name.toUpperCase();const n=document.createElement("img");n.src=e.sprites.other.dream_world.front_default,n.alt=e.name;const c=document.createElement("div");c.className="pokemon-info";const d=p({property:e.height,nameProperty:"Height"}),b=p({property:e.abilities[0].ability.name,nameProperty:"Ability"}),g=p({property:e.types[0].type.name,nameProperty:"Type"});return c.append(d,b,g),o.append(n,r,c),t.push(o),o.addEventListener("click",x=>{a&&a.remove(),m(e.id)}),s.append(...t),s}async function w(e){try{const t=`${l}/?offset=${e}&limit=20`;(await i(t)).results.map(n=>{$(n.url)}),e<=180&&(e+=20,y(e))}catch(t){console.log(t)}}async function $(e){try{const t=await i(e);f(t)}catch(t){console.log(t)}}const y=e=>{const t=document.createElement("button");return t.classList.add("button"),t.textContent="ver m\xE1s",t.setAttribute("id","charge-more"),a.appendChild(t),t.addEventListener("click",o=>{o.target.id=="charge-more"&&(w(e),t.remove())}),a};async function h(e){try{const t=`${l}/?offset=${e}&limit=20`;(await i(t)).results.map(n=>{C(n.url)}),e<=180&&(e+=20,y(e))}catch(t){console.log(t)}}async function C(e){try{const t=await i(e);f(t)}catch(t){console.log(t)}}const A=async e=>{try{if(s.innerHTML=" ",!e==" "){const t=await i(`${l}/${e.toLowerCase()}`);f(t)}else h()}catch(t){console.log(t)}};let N=0;L.addEventListener("change",e=>{a&&a.remove();const t=e.target.value;A(t)});E.addEventListener("click",()=>{a&&a.remove(),m()});document.addEventListener("DOMContentLoaded",()=>{h(N)});
